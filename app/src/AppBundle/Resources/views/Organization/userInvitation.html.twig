
{{ form_start(inviteForm) }}

{{ include('::modal.html.twig',
    {
        id: 'invite_1',
        title: 'Create invitation',
        button:
            {
                text: 'Next',
                class: 'btn-blue'
            },
        bodycontent: form_row(inviteForm.message)
                    ~ form_row(inviteForm.landing_url)
                    ~ form_row(inviteForm.limit)
                    ~ form_row(inviteForm.role)
                    ~ form_row(inviteForm.locale)
    })
}}

{{ include('::modal.html.twig',
    {
      id: 'invite_2',
        title: 'Create invitation',
        button:
            {
                text: 'Next',
                class: 'btn-blue',
                id: 'submitform'
            },
        leftbutton:
            {
                text: 'Back',
            },
        bodycontent: form_row(inviteForm.start_date)
                    ~ form_row(inviteForm.end_date)
                    ~ form_end(inviteForm)
    })
}}

<script>
    $(document).ready(function() {
        {% if not inviteForm.vars.valid %}
            $('#invite_1').modal({ backdrop: 'static'});
        {% endif %}

        $(document).on('click', 'button#invite', function(event) {
            event.preventDefault();
            $('#invite_1').modal({ backdrop: 'static'});            
        });

        $(document).on('click', '.modal#invite_1 button[type=submit]', function(event) {
            event.preventDefault();
            $('#invite_1').modal('hide');
            $('#invite_2').modal({ backdrop: 'static'});            
        });

        $(document).on('click', '.modal#invite_2 button[type=submit]', function(event) {
            event.preventDefault();
            $('form[name=organization_user_invitation]').submit();
        });

        $(document).on('click', '.modal#invite_2 button#rightbutton', function(event) {
            event.preventDefault();
            $('#invite_2').modal('hide');
            $('#invite_1').modal('show');
        });
    });
</script>